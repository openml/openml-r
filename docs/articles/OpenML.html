<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The OpenML R Interface • OpenML</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The OpenML R Interface">
<meta property="og:description" content="OpenML">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">OpenML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/OpenML.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/openml/openml-r/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="OpenML_files/header-attrs-2.3/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The OpenML R Interface</h1>
                        <h4 class="author">The OpenML R Team</h4>
            
            <h4 class="date">2020-10-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/openml/openml-r/blob/master/vignettes/OpenML.Rmd"><code>vignettes/OpenML.Rmd</code></a></small>
      <div class="hidden name"><code>OpenML.Rmd</code></div>

    </div>

    
    
<div id="intro" class="section level2">
<h2 class="hasAnchor">
<a href="#intro" class="anchor"></a>Introduction</h2>
<p>The R package OpenML is an interface to make interactions with the <a href="http://openml.org/">OpenML</a> server as comfortable as possible. For example, the users can download and upload files, run their implementations on specific tasks and get predictions in the correct form directly via R commands. In this tutorial, we will show the most important functions of this package and give examples on standard workflows.</p>
<p>For general information on what OpenML is, please have a look at the <a href="https://github.com/openml/OpenML/blob/master/README.md">README file</a> or visit the <a href="http://openml.org/">official OpenML website</a>.</p>
<p>After installation and before making practical use of the package, in most cases it is desirable to <a href="#config">setup a configuration file</a> to simplify further steps. Afterwards, there are different basic stages when using this package or OpenML, respectively:</p>
<ul>
<li>
<a href="#listing">Listing</a>
<ul>
<li>lists which data is available w.r.t. a specific object (<code>DataSets</code>, <code>Tasks</code>, <code>Flows</code>, <code>Runs</code>, <code>RunEvaluations</code>, <code>EvaluationMeasures</code>, and <code>TaskTypes</code>)</li>
<li>function names begin with <code>listOML</code>
</li>
<li>result is always a <code>data.frame</code>
</li>
</ul>
</li>
<li>
<a href="#download">Downloading</a>
<ul>
<li>downloads the specific objects (for <code>DataSets</code>, <code>Tasks</code>, <code>Runs</code>, <code>Predictions</code>, and <code>Flows</code>)</li>
<li>function names begin with <code>getOML</code>
</li>
<li>result is an object of a specific OpenML class</li>
</ul>
</li>
<li>
<a href="#running">Running models on tasks</a>
<ul>
<li>function <code>runTaskMlr</code>
</li>
<li>input: <code>OMLTask</code> and <a href="https://mlr.mlr-org.com/articles/tutorial/learner.html"><code>Learner</code></a>
</li>
<li>output: <code>OMLMlrRun</code>, <code>OMLRun</code>
</li>
</ul>
</li>
<li>
<a href="#upload">Uploading</a>
<ul>
<li>function <code>uploadOMLRun</code>
</li>
</ul>
</li>
</ul>
<div id="installation-instructions" class="section level3">
<h3 class="hasAnchor">
<a href="#installation-instructions" class="anchor"></a>Installation instructions</h3>
<p>Installation works as in any other package using</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"OpenML"</span>)
</pre></div>
<p>To install the current development version use the <a href="https://cran.r-project.org/package=devtools"><code>devtools</code></a> package and run</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"openml/openml-r"</span>)
</pre></div>
<p>Using the OpenML package also requires a reader for the <a href="http://www.cs.waikato.ac.nz/ml/weka/arff.html">ARFF</a> file format. By default <a href="https://cran.r-project.org/package=farff">farff</a> is used. Alternatively, the <a href="https://cran.r-project.org/package=RWeka">RWeka</a> package can be used. You can install the packages with the following calls.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"farff"</span>, <span class="st">"RWeka"</span>))
</pre></div>
</div>
<div id="private-key-notification" class="section level3">
<h3 class="hasAnchor">
<a href="#private-key-notification" class="anchor"></a>Private key notification</h3>
<p>All examples in this tutorial are given with a <span style="color:red"><strong>READ-ONLY API key</strong></span>.</p>
<p>With this key you can <strong>read</strong> all the information from the server but not <strong>write</strong> data sets, tasks, flows, and runs to the server. This key allows to emulate uploading to the server but doesn’t allow to really store data. If one wants to write data to a server, one has to <strong>get a personal API key</strong>. The process of how to obtain a key is shown in the <a href="#config">configuration section</a>.</p>
<p><span style="color:red"><strong>Important: Please do not write meaningless data to the server such as copies of already existing data sets, tasks, or runs (such as the ones from this tutorial)! One instance of the Iris data set should be enough for everyone. :D</strong></span></p>
</div>
<div id="basicexample" class="section level3">
<h3 class="hasAnchor">
<a href="#basicexample" class="anchor"></a>Basic example</h3>
<p>In this paragraph you can find an example on how to download a task from the server, print some information about it to the console, and produce a run which is then uploaded to the server. For detailed information on OpenML terminology (task, run, etc.) see the <a href="http://www.openml.org/guide">OpenML guide</a>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st"><a href="https://github.com/openml/openml-r">"OpenML"</a></span>)
<span class="co">## temporarily set API key to read only key</span>
<span class="fu"><a href="../reference/setOMLConfig.html">setOMLConfig</a></span>(apikey = <span class="st">"c1994bdb7ecb3c6f3c8f3b35f4b47f1f"</span>)
</pre></div>
<pre><code>## OpenML configuration:
##   server           : https://www.openml.org/api/v1
##   cachedir         : C:\Users\scary\AppData\Local\Temp\RtmpSy6CpM/cache
##   verbosity        : 0
##   arff.reader      : farff
##   confirm.upload   : FALSE
##   apikey           : ***************************47f1f</code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="co"># download a task (whose ID is 1L)</span>
<span class="kw">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/getOMLTask.html">getOMLTask</a></span>(task.id = <span class="fl">1L</span>)
</pre></div>
<pre><code>## Warning in getOMLDataSetById(data.id = data.id, cache.only = cache.only, : Data
## set has been deactivated.</code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="kw">task</span>
</pre></div>
<pre><code>## 
## OpenML Task 1 :: (Data ID = 1)
##   Task Type            : Supervised Classification
##   Data Set             : anneal :: (Version = 2, OpenML ID = 1)
##   Target Feature(s)    : class
##   Tags                 : basic, study_1, study_41, study_7, study_73, study_89, testtag, under100k, un...
##   Estimation Procedure : Stratified crossvalidation (1 x 10 folds)
##   Evaluation Measure(s): predictive_accuracy</code></pre>
<p>The task contains information on the following:</p>
<ul>
<li>task type: defines the type of the task (regression, classification, clustering, etc.)</li>
<li>data set: which data set belongs to the given task (one task can always only be connected to a single data set)</li>
<li>target feature(s): optional field for all kinds of classification and regression tasks</li>
<li>tags: tags / labels, which might be helpful for further sub-selections</li>
<li>estimation procedure: which estimation procedure has been used when computing the performance</li>
</ul>
<p>In the next line, <code>randomForest</code> is used as a classifier and run with the help of the <a href="https://github.com/mlr-org/mlr"><code>mlr package</code></a>. Note that one needs to run the algorithm locally and that <code>mlr</code> will automatically load the package that is needed to run the specified classifier.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="co"># define the classifier (usually called "flow" within OpenML)</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st"><a href="https://mlr.mlr-org.com">"mlr"</a></span>)
<span class="kw">lrn</span> <span class="op">=</span> <span class="fu"><a href="https://mlr.mlr-org.com/reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.randomForest"</span>)
<span class="co"># upload the new flow (with information about the algorithm and settings);</span>
<span class="co"># if this algorithm already exists on the server, one will receive a message</span>
<span class="co"># with the ID of the existing flow</span>
<span class="kw">flow.id</span> <span class="op">=</span> <span class="fu"><a href="../reference/uploadOMLFlow.html">uploadOMLFlow</a></span>(<span class="kw">lrn</span>)
<span class="co"># the last step is to perform a run and upload the results</span>
<span class="kw">run.mlr</span> <span class="op">=</span> <span class="fu"><a href="../reference/runTaskMlr.html">runTaskMlr</a></span>(<span class="kw">task</span>, <span class="kw">lrn</span>)
<span class="kw">run.id</span> <span class="op">=</span> <span class="fu"><a href="../reference/uploadOMLRun.html">uploadOMLRun</a></span>(<span class="kw">run.mlr</span>)
</pre></div>
<p>Following this very brief example, we will explain the single steps of the OpenML package in more detail in the next sections.</p>
</div>
</div>
<div id="config" class="section level2">
<h2 class="hasAnchor">
<a href="#config" class="anchor"></a>Configuration</h2>
<p>Interacting with the OpenML server requires an API key. For <em>demonstration purposes</em>, we have created a <em>public read-only API key</em> (<code>"c1994bdb7ecb3c6f3c8f3b35f4b47f1f"</code>), which will be used in this tutorial to make the examples executable. However, for a full-fledged usage of the <code>OpenML</code> package, you need your personal API.</p>
<div id="personalapikey" class="section level3">
<h3 class="hasAnchor">
<a href="#personalapikey" class="anchor"></a>Generating your own personal API key</h3>
<p>In order to receive your own API key</p>
<ul>
<li>register a (free) account at the <a href="http://www.openml.org">OpenML website</a>,</li>
<li>log in and go to <a href="http://www.openml.org/u#!api" class="uri">http://www.openml.org/u#!api</a>.</li>
</ul>
</div>
<div id="settingconfig" class="section level3">
<h3 class="hasAnchor">
<a href="#settingconfig" class="anchor"></a>Setting your configuration</h3>
<p>You can set your own OpenML configuration either just temporarily for the current R session via <code>setOMLConfig</code> or permanently via <code>saveOMLConfig</code>. In order to create a permanent configuration file using default values and at the same time setting your personal API key, run</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="../reference/saveOMLConfig.html">saveOMLConfig</a></span>(apikey = <span class="st">"c1994bdb7ecb3c6f3c8f3b35f4b47f1f"</span>)
</pre></div>
<p>where <code>"c1994bdb7ecb3c6f3c8f3b35f4b47f1f"</code> should be replaced with <a href="#personalapikey"><em>your personal API key</em></a>. It is noteworthy that basically everybody who has access to your computer can read the configuration file and thus see your API key. With your API key other users have full access to your account via the API, so please handle it with care!</p>
<p>It is also possible to manually create a file <code>~/.openml/config</code> in your home directory – you can use the R command <code><a href="https://rdrr.io/r/base/path.expand.html">path.expand("~/.openml/config")</a></code> to get the full path to the configuration file on the operating system. The <code>config</code> file consists of <code>key = value</code> pairs, note that the values are not quoted. An exemplary minimal <code>config</code> file might look as follows:</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="kw">apikey</span><span class="op">=</span><span class="kw">c1994bdb7ecb3c6f3c8f3b35f4b47f1f</span>
</pre></div>
<p>The <code>config</code> file may contain the following information:</p>
<ul>
<li>
<code>server</code>:
<ul>
<li>default: <code>http://www.openml.org/api/v1</code>
</li>
</ul>
</li>
<li>
<code>cachedir</code>:
<ul>
<li>directory where the current content of the cache is stored</li>
<li>the default cache directory can be obtained by the R command <code><a href="https://rdrr.io/r/base/file.path.html">file.path(tempdir(), "cache")</a></code>.</li>
</ul>
</li>
<li>
<code>verbosity</code>:
<ul>
<li>
<code>0</code>: normal output</li>
<li>
<code>1</code>: info output (default)</li>
<li>
<code>2</code>: debug output</li>
</ul>
</li>
<li>
<code>arff.reader</code>:
<ul>
<li>
<code>RWeka</code>: this is the standard Java parser used in Weka</li>
<li>
<code>farff</code>: the <a href="http://www.github.com/mlr-org/farff">farff package</a> provides a newer, faster parser without any Java requirements</li>
</ul>
</li>
<li>
<code>confirm.upload</code>:
<ul>
<li>default decision w.r.t. confirming uploads</li>
<li>per default (<code>FALSE</code>) one does not need to confirm the upload decision</li>
</ul>
</li>
<li>
<code>apikey</code>:
<ul>
<li>required to access the server</li>
</ul>
</li>
</ul>
<p>If you manually modify the <code>config</code> file, you need to reload the modified <code>config</code> file to the current R session using <code><a href="../reference/loadOMLConfig.html">loadOMLConfig()</a></code>. You can query the current configuration using</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="fu"><a href="../reference/getOMLConfig.html">getOMLConfig</a></span>()
</pre></div>
<pre><code>## OpenML configuration:
##   server           : https://www.openml.org/api/v1
##   cachedir         : C:\Users\scary\AppData\Local\Temp\RtmpSy6CpM/cache
##   verbosity        : 0
##   arff.reader      : farff
##   confirm.upload   : FALSE
##   apikey           : ***************************47f1f</code></pre>
<p>The configuration file and some related things are also explained in the <a href="https://github.com/openml/OpenML/wiki/Client-API">OpenML Wiki</a>.</p>
<p>Once the config file is set up, you are <strong>ready to go</strong>!</p>
</div>
</div>
<div id="listing" class="section level2">
<h2 class="hasAnchor">
<a href="#listing" class="anchor"></a>Listing</h2>
<p>In this stage, we want to list basic information about the various <a href="http://openml.org/guide">OpenML objects</a>:</p>
<ul>
<li>data sets</li>
<li>tasks</li>
<li>flows</li>
<li>runs</li>
<li>run results</li>
<li>evaluation measures</li>
<li>task types</li>
</ul>
<p>For each of these objects, we have a function to query the information, beginning with <code>listOML</code>. All of these functions return a <code>data.frame</code>, even in case the result consists of a single column or has zero observations (i.e., rows).</p>
<p>Note that the <code>listOML*</code> functions only list information on the corresponding objects – they do not download the respective objects. Information on actually downloading specific objects is covered in the <a href="#download">next section</a>.</p>
<div id="listdata" class="section level3">
<h3 class="hasAnchor">
<a href="#listdata" class="anchor"></a>List data sets</h3>
<p>To browse the OpenML data base for appropriate data sets, you can use <code><a href="../reference/listOMLDataSets.html">listOMLDataSets()</a></code> in order to get basic data characteristics (number of features, instances, classes, missing values, etc.) for each data set. By default, <code><a href="../reference/listOMLDataSets.html">listOMLDataSets()</a></code> returns only data sets that have an active status on OpenML:</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="kw">datasets</span> <span class="op">=</span> <span class="fu"><a href="../reference/listOMLDataSets.html">listOMLDataSets</a></span>()  <span class="co"># returns active data sets</span>
</pre></div>
<p>The resulting <code>data.frame</code> contains the following information for each of the listed data sets:</p>
<ul>
<li>the data set ID <code>data.id</code>
</li>
<li>the <code>status</code> (<code>"active"</code>, <code>"in_preparation"</code> or <code>"deactivated"</code>) of the data set</li>
<li>the <code>name</code> of the data set</li>
<li>the size of the majority / biggest class (<code>majority.class.size</code>)</li>
<li>etc.</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="kw">datasets</span>)
</pre></div>
<pre><code>## 'data.frame':    3204 obs. of  16 variables:
##  $ data.id                                : int  2 3 4 5 6 7 8 9 10 11 ...
##  $ name                                   : chr  "anneal" "kr-vs-kp" "labor" "arrhythmia" ...
##  $ version                                : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ status                                 : chr  "active" "active" "active" "active" ...
##  $ format                                 : chr  "ARFF" "ARFF" "ARFF" "ARFF" ...
##  $ tags                                   : chr  "" "" "" "" ...
##  $ majority.class.size                    : int  684 1669 37 245 813 57 NA 67 81 288 ...
##  $ max.nominal.att.distinct.values        : int  7 3 3 13 26 24 NA 22 8 3 ...
##  $ minority.class.size                    : int  8 1527 20 2 734 1 NA 3 2 49 ...
##  $ number.of.classes                      : int  5 2 2 13 26 24 0 6 4 3 ...
##  $ number.of.features                     : int  39 37 17 280 17 70 6 26 19 5 ...
##  $ number.of.instances                    : int  898 3196 57 452 20000 226 345 205 148 625 ...
##  $ number.of.instances.with.missing.values: int  898 0 56 384 0 222 0 46 0 0 ...
##  $ number.of.missing.values               : int  22175 0 326 408 0 317 0 59 0 0 ...
##  $ number.of.numeric.features             : int  6 0 8 206 16 0 6 15 3 4 ...
##  $ number.of.symbolic.features            : int  33 37 9 74 1 70 0 11 16 1 ...</code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">datasets</span>[, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>])
</pre></div>
<pre><code>##   data.id       name version status format
## 1       2     anneal       1 active   ARFF
## 2       3   kr-vs-kp       1 active   ARFF
## 3       4      labor       1 active   ARFF
## 4       5 arrhythmia       1 active   ARFF
## 5       6     letter       1 active   ARFF
## 6       7  audiology       1 active   ARFF</code></pre>
<p>To find a specific data set, you can now query the resulting <code>datasets</code> object. Suppose we want to find the <code>iris</code> data set.</p>
<div class="sourceCode" id="cb20"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span>(<span class="kw">datasets</span>, <span class="kw">name</span> <span class="op">==</span> <span class="st">"iris"</span>)
</pre></div>
<pre><code>##      data.id name version status format tags majority.class.size
## 53        61 iris       1 active   ARFF                       50
## 811      969 iris       3 active   ARFF                      100
## 2586   41510 iris       9 active   ARFF                       NA
## 2587   41511 iris      10 active   ARFF                       50
## 2620   41567 iris      11 active   ARFF                       NA
## 2621   41568 iris      12 active   ARFF                       50
## 2622   41582 iris      13 active   ARFF                       NA
## 2623   41583 iris      14 active   ARFF                       50
## 2873   41996 iris      15 active   ARFF                       NA
## 2874   41997 iris      16 active   ARFF                       50
## 2876   42002 iris      17 active   ARFF                       NA
## 2877   42003 iris      18 active   ARFF                       50
## 2880   42010 iris      19 active   ARFF                       NA
## 2881   42011 iris      20 active   ARFF                       50
## 2882   42015 iris      21 active   ARFF                       NA
## 2883   42016 iris      22 active   ARFF                       50
## 2884   42020 iris      23 active   ARFF                       NA
## 2885   42021 iris      24 active   ARFF                       50
## 2886   42025 iris      25 active   ARFF                       NA
## 2887   42026 iris      26 active   ARFF                       50
## 2888   42030 iris      27 active   ARFF                       NA
## 2889   42031 iris      28 active   ARFF                       50
## 2890   42035 iris      29 active   ARFF                       NA
## 2891   42036 iris      30 active   ARFF                       50
## 2892   42040 iris      31 active   ARFF                       NA
## 2893   42041 iris      32 active   ARFF                       50
## 2894   42045 iris      33 active   ARFF                       NA
## 2895   42046 iris      34 active   ARFF                       50
## 2896   42050 iris      35 active   ARFF                       NA
## 2897   42051 iris      36 active   ARFF                       50
## 2898   42055 iris      37 active   ARFF                       NA
## 2899   42056 iris      38 active   ARFF                       50
## 2904   42065 iris      39 active   ARFF                       NA
## 2905   42066 iris      40 active   ARFF                       50
## 2906   42070 iris      41 active   ARFF                       NA
## 2907   42071 iris      42 active   ARFF                       50
## 2918   42091 iris      43 active   ARFF                       NA
## 2921   42097 iris      44 active   ARFF                       NA
## 2922   42098 iris      45 active   ARFF                       50
## 3176   42661 iris      46 active   arff                       NA
## 3202   42699 iris      47 active   ARFF                       NA
## 3203   42700 iris      48 active   ARFF                       50
##      max.nominal.att.distinct.values minority.class.size number.of.classes
## 53                                 3                  50                 3
## 811                                2                  50                 2
## 2586                               3                  NA                NA
## 2587                               3                  50                 3
## 2620                               3                  NA                NA
## 2621                               3                  50                 3
## 2622                               3                  NA                NA
## 2623                               3                  50                 3
## 2873                               3                  NA                NA
## 2874                               3                  50                 3
## 2876                               3                  NA                NA
## 2877                               3                  50                 3
## 2880                               3                  NA                NA
## 2881                               3                  50                 3
## 2882                               3                  NA                NA
## 2883                               3                  50                 3
## 2884                               3                  NA                NA
## 2885                               3                  50                 3
## 2886                               3                  NA                NA
## 2887                               3                  50                 3
## 2888                               3                  NA                NA
## 2889                               3                  50                 3
## 2890                               3                  NA                NA
## 2891                               3                  50                 3
## 2892                               3                  NA                NA
## 2893                               3                  50                 3
## 2894                               3                  NA                NA
## 2895                               3                  50                 3
## 2896                               3                  NA                NA
## 2897                               3                  50                 3
## 2898                               3                  NA                NA
## 2899                               3                  50                 3
## 2904                               3                  NA                NA
## 2905                               3                  50                 3
## 2906                               3                  NA                NA
## 2907                               3                  50                 3
## 2918                               3                  NA                NA
## 2921                               3                  NA                NA
## 2922                               3                  50                 3
## 3176                              NA                  NA                NA
## 3202                              NA                  NA                NA
## 3203                              NA                  50                 3
##      number.of.features number.of.instances
## 53                    5                 150
## 811                   5                 150
## 2586                  5                 150
## 2587                  5                 150
## 2620                  5                 150
## 2621                  5                 150
## 2622                  5                 150
## 2623                  5                 150
## 2873                  5                 150
## 2874                  5                 150
## 2876                  5                 150
## 2877                  5                 150
## 2880                  5                 150
## 2881                  5                 150
## 2882                  5                 150
## 2883                  5                 150
## 2884                  5                 150
## 2885                  5                 150
## 2886                  5                 150
## 2887                  5                 150
## 2888                  5                 150
## 2889                  5                 150
## 2890                  5                 150
## 2891                  5                 150
## 2892                  5                 150
## 2893                  5                 150
## 2894                  5                 150
## 2895                  5                 150
## 2896                  5                 150
## 2897                  5                 150
## 2898                  5                 150
## 2899                  5                 150
## 2904                  5                 150
## 2905                  5                 150
## 2906                  5                 150
## 2907                  5                 150
## 2918                  5                 150
## 2921                  5                 150
## 2922                  5                 150
## 3176                  5                 150
## 3202                  5                 150
## 3203                  5                 150
##      number.of.instances.with.missing.values number.of.missing.values
## 53                                         0                        0
## 811                                        0                        0
## 2586                                       0                        0
## 2587                                       0                        0
## 2620                                       0                        0
## 2621                                       0                        0
## 2622                                       0                        0
## 2623                                       0                        0
## 2873                                       0                        0
## 2874                                       0                        0
## 2876                                       0                        0
## 2877                                       0                        0
## 2880                                       0                        0
## 2881                                       0                        0
## 2882                                       0                        0
## 2883                                       0                        0
## 2884                                       0                        0
## 2885                                       0                        0
## 2886                                       0                        0
## 2887                                       0                        0
## 2888                                       0                        0
## 2889                                       0                        0
## 2890                                       0                        0
## 2891                                       0                        0
## 2892                                       0                        0
## 2893                                       0                        0
## 2894                                       0                        0
## 2895                                       0                        0
## 2896                                       0                        0
## 2897                                       0                        0
## 2898                                       0                        0
## 2899                                       0                        0
## 2904                                       0                        0
## 2905                                       0                        0
## 2906                                       0                        0
## 2907                                       0                        0
## 2918                                       0                        0
## 2921                                       0                        0
## 2922                                       0                        0
## 3176                                       0                        0
## 3202                                       0                        0
## 3203                                       0                        0
##      number.of.numeric.features number.of.symbolic.features
## 53                            4                           1
## 811                           4                           1
## 2586                          4                           1
## 2587                          4                           1
## 2620                          4                           1
## 2621                          4                           1
## 2622                          4                           1
## 2623                          4                           1
## 2873                          4                           1
## 2874                          4                           1
## 2876                          4                           1
## 2877                          4                           1
## 2880                          4                           1
## 2881                          4                           1
## 2882                          4                           1
## 2883                          4                           1
## 2884                          4                           1
## 2885                          4                           1
## 2886                          4                           1
## 2887                          4                           1
## 2888                          4                           1
## 2889                          4                           1
## 2890                          4                           1
## 2891                          4                           1
## 2892                          4                           1
## 2893                          4                           1
## 2894                          4                           1
## 2895                          4                           1
## 2896                          4                           1
## 2897                          4                           1
## 2898                          4                           1
## 2899                          4                           1
## 2904                          4                           1
## 2905                          4                           1
## 2906                          4                           1
## 2907                          4                           1
## 2918                          4                           1
## 2921                          4                           1
## 2922                          4                           1
## 3176                          4                           0
## 3202                          4                           1
## 3203                          4                           1</code></pre>
<p>As you can see, there are two data sets called <code>iris</code>. We want to use the <em>original</em> data set with three classes, which is stored under the data set ID (<code>data.id</code>) 61, 41511, 41568, 41583, 41997, 42003, 42011, 42016, 42021, 42026, 42031, 42036, 42041, 42046, 42051, 42056, 42066, 42071, 42098, 42700. You can also have a closer look at the data set on the corresponding OpenML web page (<a href="http://openml.org/d/61" class="uri">http://openml.org/d/61</a>, 41511, 41568, 41583, 41997, 42003, 42011, 42016, 42021, 42026, 42031, 42036, 42041, 42046, 42051, 42056, 42066, 42071, 42098, 42700).</p>
</div>
<div id="list-tasks" class="section level3">
<h3 class="hasAnchor">
<a href="#list-tasks" class="anchor"></a>List tasks</h3>
<p>Each OpenML task is a bundle that encapsulates information on various objects:</p>
<ul>
<li>a specific <a href="http://www.openml.org/search?type=task_type">type</a>, e.g., <code>"Supervised Classification"</code> or <code>"Supervised Regression"</code>
</li>
<li>a data set</li>
<li>a target feature (which might differ from the data set’s default target)</li>
<li>an estimation/resampling procedure, e.g., a 10-fold cross-validation</li>
<li>data splits for this estimation procedure</li>
<li>one or more (performance) evaluation measures, e.g., <code>"predictive accuracy"</code> for a classification task</li>
</ul>
<p>Listing the tasks can be done via</p>
<div class="sourceCode" id="cb22"><pre class="downlit">
<span class="kw">tasks</span> <span class="op">=</span> <span class="fu"><a href="../reference/listOMLTasks.html">listOMLTasks</a></span>()
</pre></div>
<p>The resulting <code>data.frame</code> contains for each of the listed tasks information on:</p>
<ul>
<li>the task ID <code>task.id</code>
</li>
<li>the type of the task <code>task.type</code>
</li>
<li>information on the data set (analogously to the <a href="#listdata">list data set area</a>), such as the number of features, classes and instances</li>
<li>the name of the target variable <code>target.feature</code>
</li>
<li>
<code>tags</code> which can be used for labelling the task</li>
<li>the <code>estimation.procedure</code> (aka resampling strategy)</li>
<li>the <code>evaluation.measures</code> used for measuring the performance of the <a href="#flows">learner / flow</a> on the task</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="kw">tasks</span>)
</pre></div>
<pre><code>## 'data.frame':    5000 obs. of  25 variables:
##  $ task.id                                : int  2 3 4 5 6 7 8 9 10 11 ...
##  $ task.type                              : chr  "Supervised Classification" "Supervised Classification" "Supervised Classification" "Supervised Classification" ...
##  $ data.id                                : int  2 3 4 5 6 7 8 9 10 11 ...
##  $ name                                   : chr  "anneal" "kr-vs-kp" "labor" "arrhythmia" ...
##  $ status                                 : chr  "active" "active" "active" "active" ...
##  $ format                                 : chr  "ARFF" "ARFF" "ARFF" "ARFF" ...
##  $ estimation.procedure                   : chr  "10-fold Crossvalidation" "10-fold Crossvalidation" "10-fold Crossvalidation" "10-fold Crossvalidation" ...
##  $ evaluation.measures                    : chr  "predictive_accuracy" NA "predictive_accuracy" "predictive_accuracy" ...
##  $ target.feature                         : chr  "class" "class" "class" "class" ...
##  $ cost.matrix                            : chr  NA NA NA NA ...
##  $ source.data.labeled                    : chr  NA NA NA NA ...
##  $ target.feature.event                   : chr  NA NA NA NA ...
##  $ target.feature.left                    : chr  NA NA NA NA ...
##  $ target.feature.right                   : chr  NA NA NA NA ...
##  $ quality.measure                        : chr  NA NA NA NA ...
##  $ majority.class.size                    : int  684 1669 37 245 813 57 NA 67 81 288 ...
##  $ max.nominal.att.distinct.values        : int  7 3 3 13 26 24 NA 22 8 3 ...
##  $ minority.class.size                    : int  8 1527 20 2 734 1 NA 3 2 49 ...
##  $ number.of.classes                      : int  5 2 2 13 26 24 0 6 4 3 ...
##  $ number.of.features                     : int  39 37 17 280 17 70 6 26 19 5 ...
##  $ number.of.instances                    : int  898 3196 57 452 20000 226 345 205 148 625 ...
##  $ number.of.instances.with.missing.values: int  898 0 56 384 0 222 0 46 0 0 ...
##  $ number.of.missing.values               : int  22175 0 326 408 0 317 0 59 0 0 ...
##  $ number.of.numeric.features             : int  6 0 8 206 16 0 6 15 3 4 ...
##  $ number.of.symbolic.features            : int  33 37 9 74 1 70 0 11 16 1 ...</code></pre>
<p>For some data sets, there may be more than one task available on the OpenML server. For example, one can look for <code>"Supervised Classification"</code> tasks that are available for data set 61 via</p>
<div class="sourceCode" id="cb25"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span>(<span class="kw">tasks</span>, <span class="kw">task.type</span> <span class="op">==</span> <span class="st">"Supervised Classification"</span> <span class="op">&amp;</span> <span class="kw">data.id</span> <span class="op">==</span> <span class="fl">61L</span>)[, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>])
</pre></div>
<pre><code>##      task.id                 task.type data.id name status
## 51        59 Supervised Classification      61 iris active
## 263      289 Supervised Classification      61 iris active
## 428     1823 Supervised Classification      61 iris active
## 535     1939 Supervised Classification      61 iris active
## 580     1992 Supervised Classification      61 iris active
## 3298    7306 Supervised Classification      61 iris active</code></pre>
</div>
<div id="flows" class="section level3">
<h3 class="hasAnchor">
<a href="#flows" class="anchor"></a>List flows</h3>
<p>A flow is the definition and implementation of a specific algorithm workflow or script, i.e., a flow is essentially the code / implementation of the algorithm.</p>
<div class="sourceCode" id="cb27"><pre class="downlit">
<span class="kw">flows</span> <span class="op">=</span> <span class="fu"><a href="../reference/listOMLFlows.html">listOMLFlows</a></span>()
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="kw">flows</span>)
</pre></div>
<pre><code>## 'data.frame':    15919 obs. of  6 variables:
##  $ flow.id         : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ full.name       : chr  "openml.evaluation.EuclideanDistance(1.0)" "openml.evaluation.PolynomialKernel(1.0)" "openml.evaluation.RBFKernel(1.0)" "openml.evaluation.area_under_roc_curve(1.0)" ...
##  $ name            : chr  "openml.evaluation.EuclideanDistance" "openml.evaluation.PolynomialKernel" "openml.evaluation.RBFKernel" "openml.evaluation.area_under_roc_curve" ...
##  $ version         : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ external.version: chr  "" "" "" "" ...
##  $ uploader        : int  1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit">
<span class="kw">flows</span>[<span class="fl">56</span><span class="op">:</span><span class="fl">63</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>]
</pre></div>
<pre><code>##    flow.id             full.name               name version
## 56      56         weka.ZeroR(1)         weka.ZeroR       1
## 57      57          weka.OneR(1)          weka.OneR       1
## 58      58    weka.NaiveBayes(1)    weka.NaiveBayes       1
## 59      59          weka.JRip(1)          weka.JRip       1
## 60      60           weka.J48(1)           weka.J48       1
## 61      61       weka.REPTree(1)       weka.REPTree       1
## 62      62 weka.DecisionStump(1) weka.DecisionStump       1
## 63      63 weka.HoeffdingTree(1) weka.HoeffdingTree       1</code></pre>
</div>
<div id="list-runs-and-run-results" class="section level3">
<h3 class="hasAnchor">
<a href="#list-runs-and-run-results" class="anchor"></a>List runs and run results</h3>
<p>A run is an experiment, which is executed on a given combination of task, flow and setup (i.e., the explicit parameter configuration of a flow). The corresponding results are stored as a run result. Both objects, i.e., runs and run results, can be listed via <code>listOMLRuns</code> or <code>listOMLRunEvaluations</code>, respectively. As each of those objects is defined with a task, setup and flow, you can extract runs and run results with specific combinations of <code>task.id</code>, <code>setup.id</code> and/or <code>flow.id</code>. For instance, listing all runs for <a href="http://www.openml.org/t/59">task 59</a> (supervised classification on iris) can be done with</p>
<div class="sourceCode" id="cb31"><pre class="downlit">
<span class="kw">runs</span> <span class="op">=</span> <span class="fu"><a href="../reference/listOMLRuns.html">listOMLRuns</a></span>(task.id = <span class="fl">59L</span>)  <span class="co"># must be specified with the task, setup and/or implementation ID</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">runs</span>)
</pre></div>
<pre><code>##   run.id task.id setup.id flow.id uploader error.message
## 1     81      59       12      67        1          &lt;NA&gt;
## 2    161      59       13      70        1          &lt;NA&gt;
## 3    234      59        1      56        1          &lt;NA&gt;
## 4    447      59        6      61        1          &lt;NA&gt;
## 5    473      59       18      77        1          &lt;NA&gt;
## 6    491      59        7      62        1          &lt;NA&gt;</code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit">
<span class="co"># one of the IDs (here: task.id) must be supplied</span>
<span class="kw">run.results</span> <span class="op">=</span> <span class="fu"><a href="../reference/listOMLRunEvaluations.html">listOMLRunEvaluations</a></span>(task.id = <span class="fl">59L</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="kw">run.results</span>)
</pre></div>
<pre><code>## 'data.frame':    4432 obs. of  35 variables:
##  $ run.id                       : int  81 161 234 447 473 491 550 6088 6157 6158 ...
##  $ task.id                      : int  59 59 59 59 59 59 59 59 59 59 ...
##  $ setup.id                     : int  12 13 1 6 18 7 16 11 12 3 ...
##  $ flow.id                      : int  67 70 56 61 77 62 75 66 67 58 ...
##  $ flow.name                    : chr  "weka.BayesNet_K2(1)" "weka.SMO_PolyKernel(1)" "weka.ZeroR(1)" "weka.REPTree(1)" ...
##  $ flow.version                 : chr  "1" "1" "1" "1" ...
##  $ flow.source                  : chr  "weka" "weka" "weka" "weka" ...
##  $ learner.name                 : chr  "BayesNet_K2" "SMO_PolyKernel" "ZeroR" "REPTree" ...
##  $ data.name                    : chr  "iris" "iris" "iris" "iris" ...
##  $ upload.time                  : chr  "2014-04-07 00:05:11" "2014-04-07 00:55:32" "2014-04-07 01:33:24" "2014-04-07 06:26:27" ...
##  $ area.under.roc.curve         : num  0.983 0.977 0.5 0.967 0.978 ...
##  $ average.cost                 : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ build.cpu.time               : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ build.memory                 : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ f.measure                    : num  0.94 0.96 0.167 0.927 0.947 ...
##  $ kappa                        : num  0.91 0.94 0 0.89 0.92 0.5 0.95 0.93 0.91 0.93 ...
##  $ kb.relative.information.score: num  1.39e+02 9.09e+01 -6.80e-05 1.31e+02 1.38e+02 ...
##  $ mean.absolute.error          : num  0.0384 0.2311 0.4444 0.0671 0.0392 ...
##  $ mean.prior.absolute.error    : num  0.444 0.444 0.444 0.444 0.444 ...
##  $ number.of.instances          : num  150 150 150 150 150 150 150 150 150 150 ...
##  $ precision                    : num  0.94 0.96 0.111 0.927 0.947 ...
##  $ predictive.accuracy          : num  0.94 0.96 0.333 0.927 0.947 ...
##  $ prior.entropy                : num  1.58 1.58 1.58 1.58 1.58 ...
##  $ recall                       : num  0.94 0.96 0.333 0.927 0.947 ...
##  $ relative.absolute.error      : num  0.0863 0.52 1 0.151 0.0881 ...
##  $ root.mean.prior.squared.error: num  0.471 0.471 0.471 0.471 0.471 ...
##  $ root.mean.squared.error      : num  0.16 0.288 0.471 0.211 0.178 ...
##  $ root.relative.squared.error  : num  0.339 0.611 1 0.447 0.377 ...
##  $ scimark.benchmark            : num  1981 1980 2011 1887 1998 ...
##  $ total.cost                   : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ unweighted.recall            : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ usercpu.time.millis          : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ usercpu.time.millis.testing  : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ usercpu.time.millis.training : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ weighted.recall              : num  NA NA NA NA NA NA NA NA NA NA ...</code></pre>
</div>
<div id="list-evaluation-measures-and-task-types" class="section level3">
<h3 class="hasAnchor">
<a href="#list-evaluation-measures-and-task-types" class="anchor"></a>List evaluation measures and task types</h3>
<p>Analogously to the previous listings, one can list further objects simply by calling the respective functions.</p>
<div class="sourceCode" id="cb35"><pre class="downlit">
<span class="fu"><a href="../reference/listOMLDataSetQualities.html">listOMLDataSetQualities</a></span>()
<span class="fu"><a href="../reference/listOMLEstimationProcedures.html">listOMLEstimationProcedures</a></span>()
<span class="fu"><a href="../reference/listOMLEvaluationMeasures.html">listOMLEvaluationMeasures</a></span>()
<span class="fu"><a href="../reference/listOMLTaskTypes.html">listOMLTaskTypes</a></span>()
</pre></div>
</div>
</div>
<div id="download" class="section level2">
<h2 class="hasAnchor">
<a href="#download" class="anchor"></a>Downloading</h2>
<p>Users can download data sets, tasks, flows and runs from the OpenML server. The package provides special representations for each object, which will be discussed here.</p>
<div id="download-an-openml-data-set" class="section level3">
<h3 class="hasAnchor">
<a href="#download-an-openml-data-set" class="anchor"></a>Download an OpenML data set</h3>
<p>To directly download a data set, e.g., when you want to run a few preliminary experiments, one can use the function <code>getOMLDataSet</code>. The function accepts a data set ID as input and returns the corresponding <code>OMLDataSet</code>:</p>
<div class="sourceCode" id="cb36"><pre class="downlit">
<span class="kw">iris.data</span> <span class="op">=</span> <span class="fu"><a href="../reference/getOMLDataSet.html">getOMLDataSet</a></span>(data.id = <span class="fl">61L</span>)  <span class="co"># the iris data set has the data set ID 61</span>
</pre></div>
</div>
<div id="download-an-openml-task" class="section level3">
<h3 class="hasAnchor">
<a href="#download-an-openml-task" class="anchor"></a>Download an OpenML task</h3>
<p>The following call returns an OpenML task object for a supervised classification task on the iris data:</p>
<div class="sourceCode" id="cb37"><pre class="downlit">
<span class="kw">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/getOMLTask.html">getOMLTask</a></span>(task.id = <span class="fl">59L</span>)
<span class="kw">task</span>
</pre></div>
<pre><code>## 
## OpenML Task 59 :: (Data ID = 61)
##   Task Type            : Supervised Classification
##   Data Set             : iris :: (Version = 1, OpenML ID = 61)
##   Target Feature(s)    : class
##   Tags                 : basic, study_1, study_41, study_50, study_7, study_89, testsuite, under100k, ...
##   Estimation Procedure : Stratified crossvalidation (1 x 10 folds)
##   Evaluation Measure(s): predictive_accuracy</code></pre>
<p>The corresponding <code>"OMLDataSet"</code> object can be accessed by</p>
<div class="sourceCode" id="cb39"><pre class="downlit">
<span class="kw">task</span><span class="op">$</span><span class="kw">input</span><span class="op">$</span><span class="kw">data.set</span>
</pre></div>
<pre><code>## 
## Data Set 'iris' :: (Version = 1, OpenML ID = 61)
##   Collection Date         : 1936
##   Creator(s)              : R.A. Fisher
##   Default Target Attribute: class</code></pre>
<p>and the class of the task can be shown with the next line</p>
<div class="sourceCode" id="cb41"><pre class="downlit">
<span class="kw">task</span><span class="op">$</span><span class="kw">task.type</span>
</pre></div>
<pre><code>## [1] "Supervised Classification"</code></pre>
<p>Also, it is possible to extract the data set itself via</p>
<div class="sourceCode" id="cb43"><pre class="downlit">
<span class="kw">iris.data</span> <span class="op">=</span> <span class="kw">task</span><span class="op">$</span><span class="kw">input</span><span class="op">$</span><span class="kw">data.set</span><span class="op">$</span><span class="kw">data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">iris.data</span>)
</pre></div>
<pre><code>##   sepallength sepalwidth petallength petalwidth       class
## 0         5.1        3.5         1.4        0.2 Iris-setosa
## 1         4.9        3.0         1.4        0.2 Iris-setosa
## 2         4.7        3.2         1.3        0.2 Iris-setosa
## 3         4.6        3.1         1.5        0.2 Iris-setosa
## 4         5.0        3.6         1.4        0.2 Iris-setosa
## 5         5.4        3.9         1.7        0.4 Iris-setosa</code></pre>
</div>
<div id="download-an-openml-flow" class="section level3">
<h3 class="hasAnchor">
<a href="#download-an-openml-flow" class="anchor"></a>Download an OpenML flow</h3>
<p>Aside from tasks and data sets, one can also download flows – by calling <code>getOMLFlow</code> with the specific <code>flow.id</code></p>
<div class="sourceCode" id="cb45"><pre class="downlit">
<span class="kw">flow</span> <span class="op">=</span> <span class="fu"><a href="../reference/getOMLFlow.html">getOMLFlow</a></span>(flow.id = <span class="fl">2700L</span>)
<span class="kw">flow</span>
</pre></div>
<pre><code>## 
## Flow 'classif.randomForest' :: (Version = 47, Flow ID = 2700)
##  External Version         : R_3.1.2-734b029d
##  Dependencies             : mlr_2.9, randomForest_4.6.12
##  Number of Flow Parameters: 16
##  Number of Flow Components: 0</code></pre>
</div>
<div id="download-an-openml-run" class="section level3">
<h3 class="hasAnchor">
<a href="#download-an-openml-run" class="anchor"></a>Download an OpenML run</h3>
<p>To download the results of one run, including all server and user computed metrics, you have to define the corresponding run ID. For all runs that are actually related to the task, the corresponding ID can be extracted from the <code>runs</code> object, which was created in the previous section. Here we use a run of task 59, which has the <code>run.id</code> 525534. Single OpenML runs can be downloaded with the function <code>getOMLRun</code>:</p>
<div class="sourceCode" id="cb47"><pre class="downlit">
<span class="kw">task.list</span> <span class="op">=</span> <span class="fu"><a href="../reference/listOMLRuns.html">listOMLRuns</a></span>(task.id = <span class="fl">59L</span>)
<span class="kw">task.list</span>[<span class="fl">281</span><span class="op">:</span><span class="fl">285</span>, ]
</pre></div>
<pre><code>##      run.id task.id setup.id flow.id uploader error.message
## 281 7244063      59  5275959    6952        1          &lt;NA&gt;
## 282 7245683      59  5277579    6952        1          &lt;NA&gt;
## 283 7245684      59  5277580    6952        1          &lt;NA&gt;
## 284 7245686      59  5277582    6952        1          &lt;NA&gt;
## 285 7245687      59  5277583    6952        1          &lt;NA&gt;</code></pre>
<div class="sourceCode" id="cb49"><pre class="downlit">
<span class="kw">run</span> <span class="op">=</span> <span class="fu"><a href="../reference/getOMLRun.html">getOMLRun</a></span>(run.id = <span class="fl">524027L</span>)
<span class="kw">run</span>
</pre></div>
<pre><code>## 
## OpenML Run 524027 :: (Task ID = 59, Flow ID = 2393)
##  User ID  : 970
##  Learner  : classif.randomForest(43)
##  Task type: Supervised Classification</code></pre>
<p>Each <code>OMLRun</code> object is a list object, which stores additional information on the run. For instance, the flow of the previously downloaded run has some non-default settings for hyperparameters, which can be obtained by:</p>
<div class="sourceCode" id="cb51"><pre class="downlit">
<span class="kw">run</span><span class="op">$</span><span class="kw">parameter.setting</span>  <span class="co"># retrieve the list of parameter settings</span>
</pre></div>
<pre><code>## $seed
##  (parameter of component 2393) seed = 1
## 
## $kind
##  (parameter of component 2393) kind = Mersenne-Twister
## 
## $normal.kind
##  (parameter of component 2393) normal.kind = Inversion</code></pre>
<p>If the underlying flow has hyperparameters that are different from the default values of the corresponding learner, they are also shown, otherwise the default hyperparameters are used (but not explicitly listed).</p>
<p>All the data that served as input for the run, including data set IDs and the URL to the data, is stored in <code>input.data</code>:</p>
<div class="sourceCode" id="cb53"><pre class="downlit">
<span class="kw">run</span><span class="op">$</span><span class="kw">input.data</span>
</pre></div>
<pre><code>## 
## ** Data Sets **
##   data.id name                                                          url
## 1      61 iris https://www.openml.org/data/download/61/dataset_61_iris.arff
## 
## ** Files **
## data frame with 0 columns and 0 rows
## 
## ** Evaluations **
## data frame with 0 columns and 0 rows</code></pre>
<p>Predictions made by an uploaded run are stored within the <code>predictions</code> element and can be retrieved via</p>
<div class="sourceCode" id="cb55"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">run</span><span class="op">$</span><span class="kw">predictions</span>, <span class="fl">10</span>)
</pre></div>
<pre><code>##    repeat fold row_id      prediction           truth confidence.Iris-setosa
## 1       0    0     43     Iris-setosa     Iris-setosa                      1
## 2       0    0     14     Iris-setosa     Iris-setosa                      1
## 3       0    0     37     Iris-setosa     Iris-setosa                      1
## 4       0    0     23     Iris-setosa     Iris-setosa                      1
## 5       0    0     10     Iris-setosa     Iris-setosa                      1
## 6       0    0     99 Iris-versicolor Iris-versicolor                      0
## 7       0    0     87 Iris-versicolor Iris-versicolor                      0
## 8       0    0     97 Iris-versicolor Iris-versicolor                      0
## 9       0    0     62 Iris-versicolor Iris-versicolor                      0
## 10      0    0     92 Iris-versicolor Iris-versicolor                      0
##    confidence.Iris-versicolor confidence.Iris-virginica
## 1                           0                         0
## 2                           0                         0
## 3                           0                         0
## 4                           0                         0
## 5                           0                         0
## 6                           1                         0
## 7                           1                         0
## 8                           1                         0
## 9                           1                         0
## 10                          1                         0</code></pre>
<p>The output above shows predictions, ground truth information about classes and task-specific information, e.g., about the confidence of a classifier (for every observation) or in which fold a data point has been placed.</p>
</div>
</div>
<div id="running" class="section level2">
<h2 class="hasAnchor">
<a href="#running" class="anchor"></a>Running</h2>
<p>The modularized structure of OpenML allows to apply the implementation of an algorithm to a specific task and there exist multiple possibilities to do this.</p>
<div id="run-a-task-with-a-specified-mlr-learner" class="section level3">
<h3 class="hasAnchor">
<a href="#run-a-task-with-a-specified-mlr-learner" class="anchor"></a>Run a task with a specified mlr learner</h3>
<p>If one is working with <a href="https://github.com/mlr-org/mlr"><strong>mlr</strong></a>, one can specify an <code>RLearner</code> object and use the function <code>runTaskMlr</code> to create the desired <code>"OMLMlrRun"</code> object. The <code>task</code> is created the same way as in the previous sections:</p>
<div class="sourceCode" id="cb57"><pre class="downlit">
<span class="kw">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/getOMLTask.html">getOMLTask</a></span>(task.id = <span class="fl">59L</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st"><a href="https://mlr.mlr-org.com">"mlr"</a></span>)
<span class="kw">lrn</span> <span class="op">=</span> <span class="fu"><a href="https://mlr.mlr-org.com/reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.rpart"</span>)
<span class="kw">run.mlr</span> <span class="op">=</span> <span class="fu"><a href="../reference/runTaskMlr.html">runTaskMlr</a></span>(<span class="kw">task</span>, <span class="kw">lrn</span>)
<span class="kw">run.mlr</span>
</pre></div>
<pre><code>## $run
## 
## OpenML Run NA :: (Task ID = 59, Flow ID = NA)
## 
## $bmr
##   task.id    learner.id acc.test.join timetrain.test.sum timepredict.test.sum
## 1    iris classif.rpart          0.94                0.1                 0.05
## 
## $flow
## 
## Flow 'mlr.classif.rpart' :: (Version = NA, Flow ID = NA)
##  External Version         : R_4.0.2-v2.545e0cec
##  Dependencies             : R_4.0.2, OpenML_1.10, mlr_2.17.1, rpart_4.1.15
##  Number of Flow Parameters: 14
##  Number of Flow Components: 0
## 
## attr(,"class")
## [1] "OMLMlrRun"</code></pre>
<p>Note that locally created runs don’t have a run ID or flow ID yet. These are assigned by the OpenML server after uploading the run.</p>
</div>
<div id="run-a-task-without-using-mlr" class="section level3">
<h3 class="hasAnchor">
<a href="#run-a-task-without-using-mlr" class="anchor"></a>Run a task without using mlr</h3>
<p>If you are not using <code>mlr</code>, you will have to invest some more time and effort to get things done since this is not supported yet. So, unless you have good reasons to do otherwise, we strongly encourage to use <code>mlr</code>. If the algorithm you want to use is not integrated in <code>mlr</code> yet, you can integrate it yourself (see the <a href="https://mlr.mlr-org.com/articles/tutorial/create_learner.html">tutorial</a>) or open an <a href="https://github.com/mlr-org/mlr/issues">issue on mlr GitHub repository</a> and hope someone else will do it for you.</p>
</div>
</div>
<div id="upload" class="section level2">
<h2 class="hasAnchor">
<a href="#upload" class="anchor"></a>Uploading</h2>
<p>The following section gives an overview on how one can contribute building blocks (i.e. data sets, flows and runs) to the OpenML server.</p>
<div id="upload-a-data-set" class="section level3">
<h3 class="hasAnchor">
<a href="#upload-a-data-set" class="anchor"></a>Upload a data set</h3>
<p>A data set contains information that can be stored on OpenML and used by OpenML tasks and runs. This example shows how a very simple data set can be taken from R, converted to an OpenML data set and afterwards uploaded to the server. The corresponding workflow consists of the following three steps:</p>
<ol style="list-style-type: decimal">
<li>
<code>makeOMLDataSetDescription</code>: create the description object of an OpenML data set</li>
<li>
<code>makeOMLDataSet</code>: convert the data set into an OpenML data set</li>
<li>
<code>uploadOMLDataSet</code>: upload the data set to the server</li>
</ol>
<div class="sourceCode" id="cb59"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"airquality"</span>)
<span class="kw">dsc</span> <span class="op">=</span> <span class="st">"Daily air quality measurements in New York, May to September 1973.
  This data is taken from R."</span>
<span class="kw">cit</span> <span class="op">=</span> <span class="st">"Chambers, J. M., Cleveland, W. S., Kleiner, B. and Tukey, P. A. (1983)
  Graphical Methods for Data Analysis. Belmont, CA: Wadsworth."</span>
<span class="co">## (1) Create the description object</span>
<span class="kw">desc</span> <span class="op">=</span> <span class="fu"><a href="../reference/OMLDataSetDescription.html">makeOMLDataSetDescription</a></span>(name = <span class="st">"airquality"</span>,
  description = <span class="kw">dsc</span>,
  creator = <span class="st">"New York State Department of Conservation (ozone data) and the National
    Weather Service (meteorological data)"</span>,
  collection.date = <span class="st">"May 1, 1973 to September 30, 1973"</span>,
  language = <span class="st">"English"</span>,
  licence = <span class="st">"GPL-2"</span>,
  url = <span class="st">"https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html"</span>,
  default.target.attribute = <span class="st">"Ozone"</span>,
  citation = <span class="kw">cit</span>,
  tags = <span class="st">"R"</span>)
<span class="co">## (2) Create the OpenML data set</span>
<span class="kw">air.data</span> <span class="op">=</span> <span class="fu"><a href="../reference/OMLDataSet.html">makeOMLDataSet</a></span>(desc = <span class="kw">desc</span>,
  data = <span class="kw">airquality</span>,
  colnames.old = <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="kw">airquality</span>),
  colnames.new = <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="kw">airquality</span>),
  target.features = <span class="st">"Ozone"</span>)
<span class="co">## (3) Upload the OpenML data set to the server</span>
<span class="co">## Because this is a simple data set which is generally already available in R</span>
<span class="co">## please do not actually upload it to the server!</span>
<span class="co">## The code would be:</span>
<span class="co">#dataset.id = uploadOMLDataSet(air.data)</span>
<span class="co">#dataset.id</span>
</pre></div>
<p>Alternatively you can enter data directly on the <a href="http://www.openml.org/new/data">OpenML website</a>.</p>
</div>
<div id="upload-a-flow" class="section level3">
<h3 class="hasAnchor">
<a href="#upload-a-flow" class="anchor"></a>Upload a flow</h3>
<p>A <a href="#flows">flow</a> is an implementation of a single algorithm or a script. Each <a href="https://mlr.mlr-org.com/articles/tutorial/integrated_learners.html"><code>mlr</code> learner</a> can be considered an implementation of a flow, which can be uploaded to the server with the function <code>uploadOMLFlow</code>. If the flow has already been uploaded to the server (either by you or someone else), one receives a message that the flow already exists and the <code>flow.id</code> is returned from the function. Otherwise, the flow will be uploaded, receive its own <code>flow.id</code> and return that ID.</p>
<div class="sourceCode" id="cb60"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st"><a href="https://mlr.mlr-org.com">"mlr"</a></span>)
<span class="kw">lrn</span> <span class="op">=</span> <span class="fu"><a href="https://mlr.mlr-org.com/reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.randomForest"</span>)
<span class="kw">flow.id</span> <span class="op">=</span> <span class="fu"><a href="../reference/uploadOMLFlow.html">uploadOMLFlow</a></span>(<span class="kw">lrn</span>)
<span class="kw">flow.id</span>
</pre></div>
</div>
<div id="upload-a-run" class="section level3">
<h3 class="hasAnchor">
<a href="#upload-a-run" class="anchor"></a>Upload a run</h3>
<p>In addition to uploading data sets or flows, one can also upload runs (which a priori have to be created, e.g., using <code>mlr</code>):</p>
<div class="sourceCode" id="cb61"><pre class="downlit">
<span class="co">## choose 2 flows (i.e., mlr-learners)</span>
<span class="kw">learners</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
  <span class="fu"><a href="https://mlr.mlr-org.com/reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.kknn"</span>),
  <span class="fu"><a href="https://mlr.mlr-org.com/reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.randomForest"</span>)
)
<span class="co">## pick 3 random tasks</span>
<span class="kw">task.ids</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">57</span>, <span class="fl">59</span>, <span class="fl">2382</span>)
<span class="co">for</span> (<span class="kw">lrn</span> <span class="co">in</span> <span class="kw">learners</span>) {
  <span class="co">for</span> (<span class="kw">id</span> <span class="co">in</span> <span class="kw">task.ids</span>) {
    <span class="kw">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/getOMLTask.html">getOMLTask</a></span>(<span class="kw">id</span>)
    <span class="kw">res</span> <span class="op">=</span> <span class="fu"><a href="../reference/runTaskMlr.html">runTaskMlr</a></span>(<span class="kw">task</span>, <span class="kw">lrn</span>)<span class="op">$</span><span class="kw">run</span>
    <span class="kw">run.id</span> <span class="op">=</span> <span class="fu"><a href="../reference/uploadOMLRun.html">uploadOMLRun</a></span>(<span class="kw">res</span>)  <span class="co"># upload results</span>
  }
}
</pre></div>
<p>Before your run will be uploaded to the server, <code>uploadOMLRun</code> checks whether the flow that created this run is already available on the server. If the flow does not exist on the server, it will (automatically) be uploaded as well.</p>
</div>
</div>
<div id="feedback" class="section level2">
<h2 class="hasAnchor">
<a href="#feedback" class="anchor"></a>Feedback</h2>
<p>Now, you should have gotten an idea on how to use our package. However, as there is always room for improvement, we are more than happy to receive your feedback. So, in case</p>
<ul>
<li>there is anything not well documented,</li>
<li>you encounter a bug, or</li>
<li>you are missing functionality</li>
</ul>
<p>please open an issue in the <a href="https://github.com/openml/openml-r/issues">issue tracker of our GitHub repository</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Giuseppe Casalicchio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
